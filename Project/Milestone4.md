<table><tr><td> <em>Assignment: </em> IT114 Chatroom Milestone4</td></tr>
<tr><td> <em>Student: </em> Sai Chandra (sjc65)</td></tr>
<tr><td> <em>Generated: </em> 8/7/2023 9:33:27 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-450-M23/it114-chatroom-milestone4/grade/sjc65" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <p>Implement the features from Milestone3 from the proposal document:&nbsp;&nbsp;<a href="https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view">https://docs.google.com/document/d/1ONmvEvel97GTFPGfVwwQC96xSsobbSbk56145XizQG4/view</a></p>
</td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Client can export chat history of their current session (client-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of related UI</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-01T21.20.39client%20UI%20export%20button.PNG.webp?alt=media&token=8cfd2eab-4fc7-4327-8b8b-5c20d15a5021"/></td></tr>
<tr><td> <em>Caption:</em> <p>This picture shows the export button added to the client UI. The button<br>is visble on the bottom-right corner of the window to the right of<br>the &quot;send&quot; button.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot of exported data</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-01T21.22.32client%20UI%20export%20button.PNG.webp?alt=media&token=97bee397-691f-4c0a-ae9c-d56bf0b89a4d"/></td></tr>
<tr><td> <em>Caption:</em> <p>This image shows what the chat history looks like before it is exported.<br>The chat history shows various lines of dialogue with different font styles applied.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-01T21.22.38chatHistory%20pic.PNG.webp?alt=media&token=275e5025-bb9d-4d38-ab85-01f907758981"/></td></tr>
<tr><td> <em>Caption:</em> <p>This image shows the exported chat history as a .txt file. The chat<br>history is displayed in HTML tags with the respective font styles wrapping the<br>words the styles are applied to.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-01T21.56.54export%20chat%20history%20code%201.PNG.webp?alt=media&token=239b8dba-5358-4f84-99f0-e34fd8bc1b3d"/></td></tr>
<tr><td> <em>Caption:</em> <p>This picture shows the code, in &quot;chatPanel.java&quot;, for creating the export button. The<br>code creates the button and calls the &quot;exportChat()&quot; method when the button is<br>clicked.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-01T21.57.12export%20chat%20history%20code%202.PNG.webp?alt=media&token=fbc171fe-e310-451a-8bc2-87db5a8b7b1c"/></td></tr>
<tr><td> <em>Caption:</em> <p>This picture shows the code, in &quot;chatPanel.java&quot;, for the &quot;exportChat()&quot; method that creates<br>the export file. The code retrieves the chat history, appends it a string<br>of content, adds the string of content to a file, and then prompts<br>the user on where to save the file.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>&nbsp;First, the code creates a JButton object called &quot;export&quot; and labels the button<br>&quot;Export History&quot;. When the button is activated, it calls the &quot;exportChat()&quot; method. The<br>button is added to the bottom-right of the chat panel UI, on the<br>right side of the &quot;send&quot; button. In the &quot;exportChat()&quot; method, the code first<br>retrieves the chat history from the chat area by getting the text of<br>each message in the history. Then it appends the chat history to the<br>StringBuilder object, &quot;chatHistory&quot; to combine and build the chat messages with &quot;/n&quot; appended<br>at the end of each message in order to separate each message by<br>a new line. Then the JFileChooser object, &quot;pathChooser&quot;, prompts the user with a<br>&quot;File Explorer&quot; type window to select the name of the file and where<br>it will be saved. Then the file is created with a &quot;.txt&quot; file<br>extension at the end. The BufferedWriter object, &quot;writer&quot;, is used to write the<br>contents of the chat history to the file. Lastly, a windowed success message<br>is shown to the user if the export was successful. If the export<br>was not successful, a windowed error message is displayed instead.<br></p><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Client's mute list will persist across sessions (server-side) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of how the mute list is stored</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T20.30.07mute%20list%20file.PNG.webp?alt=media&token=3655d5ac-fca8-4319-85f1-4037fd4fc9c4"/></td></tr>
<tr><td> <em>Caption:</em> <p>The mute list is stored as a text file and the contents are<br>written in a list format. Meaning, every time a user mutes another user,<br>the list stores the information as &quot;muter,muted&quot;. In this example, the users &quot;jay&quot;<br>and &quot;chan&quot; are muted for user &quot;sai&quot;. Every user unique user the muter<br>mutes will be stored as a separate entry to prevent accidental overwrites of<br>the file that could cause entry translation issues.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the code saving/loading mute list</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T20.39.46mutedusers%20method%20call.PNG.webp?alt=media&token=0f8c1f13-46db-4269-aa6d-08b6b2c4cb3f"/></td></tr>
<tr><td> <em>Caption:</em> <p>This code snippet shows the updated mute users implementation. In the updated code,<br>the &quot;mutedUsersFile()&quot; method is called under each of the two methods to add<br>the names of the muter and muted to the text file.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T20.39.53add%20%26%20remove%20from%20muted%20list.PNG.webp?alt=media&token=dccb9c05-62b3-4f54-913b-bb0d47d34a44"/></td></tr>
<tr><td> <em>Caption:</em> <p>The &quot;mutedUsersFile()&quot; method is half of this feature&#39;s implementation. This method first creates<br>a text file, converts the text to lower case, and appends the name<br>of the muter and muted with a comma seperator and saves it as<br>an entry in the list. The other part of the method checks whether<br>the name is on the list or not and compares it with the<br>current status of the muter user and attempts to sync the list contents<br>accordingly.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T20.40.00read%20from%20muted%20list.PNG.webp?alt=media&token=9e361700-da52-4ae1-8205-064083c08d4b"/></td></tr>
<tr><td> <em>Caption:</em> <p>The &quot;muteFromList()&quot; method is the other half of this feature&#39;s implementation. This method<br>reads from the text file, removes the comma, and extracts the names of<br>the muter and muted from the list entry.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T20.40.08muted%20list%20on%20connect.PNG.webp?alt=media&token=8584bf56-c73a-464f-ae31-6b2d9d993296"/></td></tr>
<tr><td> <em>Caption:</em> <p>In this code snippet, the &quot;muteFromList()&quot; method is called in the  &quot;processPayload()&quot;<br>method in order to process the mute list on client connect.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>In order to implement this feature, I had to edit the ServerThread in<br>order to implement the code used in the user mute feature. In ServerThread,<br>I created a method that creates the text file and updates the file.<br>To retrieve the names of the muter and the muted to write into<br>the text file, I called the method in the user mute feature code<br>block and used the &quot;clientName&quot; and &quot;user&quot; as the parameters of the &quot;muterUsersFile()&quot;<br>method. These two parameters are the muter and muted respectively. In the &quot;mutedUsersFile()&quot;<br>the method writes the names to the text file and appends each entry<br>with a comma to separate the muter and muted. Then the method checks<br>if the list is synced with the status of the user mute feature<br>by ensuring current muted users are on the list and non-muted users are<br>not on the list. The &quot;muteFromList()&quot; method reads the mute list file and<br>splits the names in the entry to the muter and muted. This method<br>is then called in the &quot;connect&quot; case in the &quot;processPayload()&quot; method to mute<br>the associated users to the associated client name (muter,muted).<br></p><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Client's will receive a message when they get muted/unmuted by another user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the related chat messages</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T22.28.29muted%20%26%20unmuted%20notification%20messages.PNG.webp?alt=media&token=393fceb2-4925-476a-ade0-878573174efb"/></td></tr>
<tr><td> <em>Caption:</em> <p>This demo of the mute/unmute status message feature shows all messages being exchanged<br>between the three clients at the beginning of the session. After &quot;sai&quot;(left client)<br>mutes &quot;jay&quot;(middle client) and &quot;chan&quot;(right client), &quot;sai&quot; receives a message that he muted<br>&quot;jay&quot; and &quot;chan&quot;, and &quot;jay&quot; and &quot;chan&quot; receive a message that they have<br>been muted by &quot;sai&quot;. Likewise when &quot;sai&quot; unmutes &quot;jay&quot; and &quot;chan&quot;, all parties<br>involved in the muting and muted are notified of the changes, which would<br>be &quot;sai&quot;, &quot;jay&quot;, &quot;chan&quot; in this case.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the related code snippets</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-04T22.40.01mute%20%26%20unmuted%20notification%20message%20feature%20code.PNG.webp?alt=media&token=375eaef2-4f5d-4714-8dbf-e53ae4c0ac79"/></td></tr>
<tr><td> <em>Caption:</em> <p>This zoomed-out picture fully implements the mute/unmute notification message feature. The main implementation<br>updates the code in the &quot;muteUser()&quot; and &quot;unmuteUser()&quot; methods. These methods initially notified<br>only the user of the mute/unmute status of the client&#39;s target user. In<br>the updated version, the methods now inform the target user of the mute/unmute<br>status by retrieving the client name of the target user and sending a<br>message to that client name. The client name is retrieved in the &quot;findClientByUsername()&quot;<br>method, which compares the target username with each client in the list of<br>connected clients and returns the client name.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>In order to notify the target user of the mute/unmute status, I updated<br>the &quot;muteUser()&quot; and &quot;unmuteUser()&quot; methods, since these two methods originally handled the mute/unmute<br>status message to the client that used the mute/unmute commands. In the updated<br>methods, the code needed to retrieve the client name of the target username<br>in order to send the message. A ServerThread variable, &quot;targetClient&quot;, was created for<br>each method to serve as the client address that the message would be<br>sent to. The variable is assigned to the result of the &quot;findClientByName()&quot; method<br>which searches through each client in a list of connected clients and attempts<br>to find a match between the target username and a client name. If<br>a match is found, the client name is returned, if a match is<br>not found then null is returned. Then &quot;targetClient&quot; is run through an if-statement<br>that checks whether it is null or not, if the value is not<br>null then the message is sent to the target client of the mute/unmute<br>status.<br></p><br></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User list should update per the status of each user </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707834-bf5a5b13-ec36-4597-9741-aa830c195be2.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot for Muted users by the client should appear grayed out</td></tr>
<tr><td><table><tr><td>Missing Image</td></tr>
<tr><td> <em>Caption:</em> (missing)</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot for Last person to send a message gets highlighted</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-08T01.05.58code%201.PNG.webp?alt=media&token=fc2ca38c-22a2-4353-88c1-87f2a9698951"/></td></tr>
<tr><td> <em>Caption:</em> <p>The code above shows how the client ID, from the &quot;onMessageRecieve()&quot; method in<br>ClientUI.java, is set as a parameter of the &quot;setSenderID()&quot; method from UserListPanel.java. The<br>purpose of the code is to send the clientId of the last message<br>sender to the UserListPanel.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsjc65%2F2023-08-08T01.06.06code%202.PNG.webp?alt=media&token=b3b93bd9-98bd-4368-99e5-78c65fe120b2"/></td></tr>
<tr><td> <em>Caption:</em> <p>The UserListPanel.java code shows the &quot;setSenderID()&quot; and &quot;getSenderID()&quot; methods. The code also shows<br>the main implementation for the name text styling. The textFormat() method iterates over<br>the components in the user list and applies the highlight/un-highlight, based on whether<br>the senderID and clientID match.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how you implemented this</td></tr>
<tr><td> <em>Response:</em> <p>In order to implement the user list highlight feature, I first edited the<br>ClientUI.java to retrieve the clientId from the &quot;onMessageRecieve()&quot; method. In order to do<br>this, I created a UserListPanel object called &quot;panel&quot; and called &quot;panel.setSenderID()&quot; with the<br>clientId as the parameter. The purpose of the implementation in ClientUI was to<br>retrieve the clientId of the last sender to send a message. Then I<br>edited the UserListPanel.java by creating a private variable called &quot;senderID&quot; and two methods<br>to set and get the senderID. I then created a method called &quot;textFormat()&quot;<br>that handled the main user list highlight feature. The &quot;textFormat()&quot; method replaced the<br>&quot;clientName&quot; inside of the &quot;JEditorPane textContainer = new JEditorPane(&quot;text/html&quot;, textFormat(clientName));&quot; inside of the<br>&quot;addUserListItem()&quot; method. The &quot;textFormat()&quot; method would iterate over the components in the user<br>list and compare the user name to the senderID. If there was a<br>match then the name of the last client to send a message changed<br>to blue and the other client names changed to black, which was the<br>default.<br></p><br></td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-450-M23/it114-chatroom-milestone4/grade/sjc65" target="_blank">Grading</a></td></tr></table>